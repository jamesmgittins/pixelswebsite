var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(n)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const o="undefined"!=typeof window;let c=o?()=>window.performance.now():()=>Date.now(),s=o?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&s(d)}function p(t){let e;return 0===u.size&&s(d),{promise:new Promise((n=>{u.add(e={c:t,f:n})})),abort(){u.delete(e)}}}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function $(){return g("")}function x(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e,n){t.classList[n?"add":"remove"](e)}const k=new Set;let R,E=0;function I(t,e,n,i,r,a,l,o=0){const c=16.666/i;let s="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*a(t);s+=100*t+`%{${l(i,1-i)}}\n`}const u=s+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${o}`,p=t.ownerDocument;k.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(y("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[d]||(h[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${i}ms linear ${r}ms 1 both`,E+=1,d}function L(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),E-=r,E||s((()=>{E||(k.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),k.clear())})))}function M(t){R=t}function T(){if(!R)throw new Error("Function called outside component initialization");return R}function S(t){T().$$.on_mount.push(t)}const A=[],C=[],D=[],H=[],j=Promise.resolve();let P=!1;function q(t){D.push(t)}let B=!1;const F=new Set;function N(){if(!B){B=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];M(e),O(e.$$)}for(M(null),A.length=0;C.length;)C.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];F.has(e)||(F.add(e),e())}D.length=0}while(A.length);for(;H.length;)H.pop()();P=!1,B=!1,F.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}let X;function z(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function G(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const J=new Set;let U;function W(){U={r:0,c:[],p:U}}function Y(){U.r||r(U.c),U=U.p}function Z(t,e){t&&t.i&&(J.delete(t),t.i(e))}function K(t,e,n,i){if(t&&t.o){if(J.has(t))return;J.add(t),U.c.push((()=>{J.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const Q={duration:0};function V(n,i,r){let l,o,s=i(n,r),u=!1,d=0;function f(){l&&L(n,l)}function h(){const{delay:i=0,duration:r=300,easing:a=e,tick:h=t,css:m}=s||Q;m&&(l=I(n,0,1,r,i,a,m,d++)),h(0,1);const y=c()+i,g=y+r;o&&o.abort(),u=!0,q((()=>G(n,!0,"start"))),o=p((t=>{if(u){if(t>=g)return h(1,0),G(n,!0,"end"),f(),u=!1;if(t>=y){const e=a((t-y)/r);h(e,1-e)}}return u}))}let m=!1;return{start(){m||(L(n),a(s)?(s=s(),z().then(h)):h())},invalidate(){m=!1},end(){u&&(f(),u=!1)}}}function tt(n,i,l){let o,s=i(n,l),u=!0;const d=U;function f(){const{delay:i=0,duration:a=300,easing:l=e,tick:f=t,css:h}=s||Q;h&&(o=I(n,1,0,a,i,l,h));const m=c()+i,y=m+a;q((()=>G(n,!1,"start"))),p((t=>{if(u){if(t>=y)return f(0,1),G(n,!1,"end"),--d.r||r(d.c),!1;if(t>=m){const e=l((t-m)/a);f(1-e,e)}}return u}))}return d.r+=1,a(s)?z().then((()=>{s=s(),f()})):f(),{end(t){t&&s.tick&&s.tick(1,0),u&&(o&&L(n,o),u=!1)}}}function et(t){t&&t.c()}function nt(t,e,i){const{fragment:l,on_mount:o,on_destroy:c,after_update:s}=t.$$;l&&l.m(e,i),q((()=>{const e=o.map(n).filter(a);c?c.push(...e):r(e),t.$$.on_mount=[]})),s.forEach(q)}function it(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){-1===t.$$.dirty[0]&&(A.push(t),P||(P=!0,j.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,a,l,o,c,s=[-1]){const u=R;M(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:o,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:s,skip_bound:!1};let f=!1;if(p.ctx=a?a(e,d,((t,n,...i)=>{const r=i.length?i[0]:n;return p.ctx&&o(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),f&&rt(e,t)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!l&&l(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();n.intro&&Z(e.$$.fragment),nt(e,n.target,n.anchor),N()}M(u)}class lt{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t){const e=t-1;return e*e*e+1}function ct(t,{delay:e=0,duration:n=400,easing:i=ot,x:r=0,y:a=0,opacity:l=0}){const o=getComputedStyle(t),c=+o.opacity,s="none"===o.transform?"":o.transform,u=c*(1-l);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${s} translate(${(1-t)*r}px, ${(1-t)*a}px);\n\t\t\topacity: ${c-u*e}`}}const st="https://jgittins.alwaysdata.net/";async function ut(){let t=localStorage.getItem("pixelGuid");var e,n,i;return t||(e="guid",n=function(){return t=this.responseText,t&&localStorage.setItem("pixelGuid",t),t},(i=new XMLHttpRequest).addEventListener("load",n),i.open("GET",st+e),i.send()),t}async function dt(t){return fetch(st+t).then((t=>t.text())).then((t=>{let e=LZString.decompressFromBase64(t);if(e)return JSON.parse(e)}))}function pt(t,e,n,i,r){let a,l,o,c=t.getContext("2d"),s={x:0,y:0},u=!1,d=!1,p=!1,f=[],h=!1,m=function(){let t={x:s.x-l.x,y:s.y-l.y},e=Math.sqrt(t.x*t.x+t.y*t.y);if(e>1&&e<50){t=function(t){if(0==t.x&&0==t.y)return t;var e=Math.sqrt(t.x*t.x+t.y*t.y);return t.x/=e,t.y/=e,t}(t);let i=l.x,r=l.y;for(var n=0;n<e-1;n++)i+=t.x,r+=t.y,0==f.filter((t=>t.x==Math.round(i)&&t.y==Math.round(r))).length&&(c.beginPath(),c.rect(Math.round(i),Math.round(r),1,1),c.fill(),f.push({x:Math.round(i),y:Math.round(r)}))}},y=function(){h||(a&&c.putImageData(a,0,0),u&&d&&(c.fillStyle="#000",!p&&l&&m(),p=!1,0==f.filter((t=>t.x==s.x&&t.y==s.y)).length&&(c.beginPath(),c.rect(s.x,s.y,1,1),c.fill(),f.push({x:s.x,y:s.y})),l={x:s.x,y:s.y}),a=c.getImageData(0,0,t.width,t.height),c.beginPath(),0==f.filter((t=>t.x==s.x&&t.y==s.y)).length?c.fillStyle="#CCC":c.fillStyle="#555",c.rect(s.x,s.y,1,1),c.fill())};t.addEventListener("mousemove",(function(e){let n=t.width/t.clientWidth,i=t.height/t.clientHeight;s.x=Math.round(n*e.offsetX-.5),s.y=Math.round(i*e.offsetY-.5),y()})),t.addEventListener("mouseleave",(function(){d=!1})),t.addEventListener("mouseenter",(function(){d=!0})),document.body.addEventListener("mousedown",(function(t){0==t.button&&(u=!0,y())})),document.body.addEventListener("mouseup",(function(){u=!1,p=!0,y()})),t.addEventListener("touchstart",(function(e){d=!0,u=!0;let n=t.width/t.clientWidth,i=t.height/t.clientHeight,r=t.getBoundingClientRect();s.x=Math.round(n*(e.targetTouches[0].clientX-r.x)),s.y=Math.round(i*(e.targetTouches[0].clientY-r.y)),y()})),t.addEventListener("touchend",(function(){d=!1,u=!1,p=!0})),t.addEventListener("touchmove",(function(e){e.preventDefault();let n=t.width/t.clientWidth,i=t.height/t.clientHeight,r=t.getBoundingClientRect();s.x=Math.round(n*(e.targetTouches[0].clientX-r.x)),s.y=Math.round(i*(e.targetTouches[0].clientY-r.y)),y()})),e.addEventListener("click",(function(){o&&cancelAnimationFrame(o),c.fillStyle="#000",h=!0;let e=0;c.clearRect(0,0,t.width,t.height);let n=function(){e<f.length?(c.beginPath(),c.rect(f[e].x,f[e].y,1,1),c.fill()):h=!1,e++},i=function(){n(),n(),o=requestAnimationFrame(i)};i()})),document.getElementById("post-button").addEventListener("click",(function(){var e,l,o,s;e="post",l=function(){r(),c.clearRect(0,0,t.width,t.height),f=[],a=!1},o={user:n,parent:i,data:LZString.compressToBase64(JSON.stringify(f))},(s=new XMLHttpRequest).addEventListener("load",l),s.open("POST",st+e),s.setRequestHeader("Content-type","text/plain"),s.send(JSON.stringify(o))})),document.getElementById("trash-button").addEventListener("click",(function(){f=[],a=!1,c.clearRect(0,0,t.width,t.height)}))}function ft(e){let n,i,r,a;return{c(){n=y("div"),n.innerHTML='<div class="toolbar"><a id="replay-button" href="javascript:void(0);" title="Replay"><i class="far fa-play-circle"></i></a> \n      <a id="trash-button" href="javascript:void(0);" title="Trash"><i class="fas fa-trash"></i></a></div> \n    <div class="canvas-container"><div class="frame"><canvas id="sketch-canvas" width="128" height="72"></canvas></div></div> \n    <div class="toolbar"><a id="post-button" href="javascript:void(0);" title="Post"><i class="fas fa-file-upload"></i></a></div> \n    <div class="clear"></div>',w(n,"id","create"),w(n,"class","page")},m(t,e){h(t,n,e),a=!0},p:t,i(t){a||(q((()=>{r&&r.end(1),i||(i=V(n,ct,{x:-500,duration:500})),i.start()})),a=!0)},o(t){i&&i.invalidate(),r=tt(n,ct,{x:-500,duration:500}),a=!1},d(t){t&&m(n),t&&r&&r.end()}}}function ht(t,e,n){let{guid:i}=e,{replyId:r}=e,{postedDrawing:a}=e;return S((()=>{pt(document.getElementById("sketch-canvas"),document.getElementById("replay-button"),i,r,a)})),t.$$set=t=>{"guid"in t&&n(0,i=t.guid),"replyId"in t&&n(1,r=t.replyId),"postedDrawing"in t&&n(2,a=t.postedDrawing)},[i,r,a]}class mt extends lt{constructor(t){super(),at(this,t,ht,ft,l,{guid:0,replyId:1,postedDrawing:2})}}function yt(t){let e=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),i=Math.floor(t/36e5%24),r=Math.floor(t/864e5);return i=i<10?"0"+i:i,n=n<10?"0"+n:n,e=e<10?"0"+e:e,(r>0?r+"d ":"")+(i>0?i+"h ":"")+n+"m "+e+"s"}function gt(t){let e=document.createElement("canvas");e.width=512,e.height=288;let n=e.getContext("2d");n.imageSmoothingEnabled=!1,n.fillStyle="#eaead9",n.fillRect(0,0,512,288),n.drawImage(document.querySelector('div.sketch[data-sketch-id="'+t+'"] img'),0,0,128,72,0,0,512,288);var i,r,a,l=e.toDataURL("image/png");e.remove(),i="data:"+l,r="doodle_"+t+".png",(a=document.createElement("a")).download=r,a.href=i,document.body.append(a),a.click(),a.remove()}function vt(t,e,n){const i=t.slice();return i[16]=e[n],i}function $t(t){let e;function n(t,e){return t[16].replies?wt:xt}let i=n(t),r=i(t);return{c(){r.c(),e=$()},m(t,n){r.m(t,n),h(t,e,n)},p(t,a){i===(i=n(t))&&r?r.p(t,a):(r.d(1),r=i(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&m(e)}}}function xt(t){let e,n,i,r;function a(...e){return t[13](t[16],...e)}return{c(){e=y("a"),e.textContent="doodle a reply",w(e,"href",n="javascript:void(0);"),w(e,"class","replies")},m(t,n){h(t,e,n),i||(r=x(e,"click",a),i=!0)},p(e,n){t=e},d(t){t&&m(e),i=!1,r()}}}function wt(t){let e,n,i,r,a,l,o,c=t[16].replies+"",s=t[16].replies>1?" replies":" reply";function u(...e){return t[12](t[16],...e)}return{c(){e=y("a"),n=g(c),i=v(),r=g(s),w(e,"href",a="javascript:void(0);"),w(e,"class","replies")},m(t,a){h(t,e,a),f(e,n),f(e,i),f(e,r),l||(o=x(e,"click",u),l=!0)},p(e,i){t=e,16&i&&c!==(c=t[16].replies+"")&&b(n,c),16&i&&s!==(s=t[16].replies>1?" replies":" reply")&&b(r,s)},d(t){t&&m(e),l=!1,o()}}}function bt(t){let e,n,i,a,l,o,c,s,u,d,p,$,_,k,R,E=yt(t[5]-t[16].timestamp)+"";function I(...e){return t[10](t[16],...e)}function L(...e){return t[11](t[16],...e)}let M=t[3]&&$t(t);return{c(){e=y("div"),n=y("span"),i=g(E),a=g("\r\n                ago"),o=v(),c=y("img"),u=v(),d=y("a"),d.innerHTML='<i class="fas fa-download"></i>',$=v(),M&&M.c(),w(n,"class","time"),w(n,"data-time",l=t[16].timestamp),c.src!==(s=t[16].dataUrl)&&w(c,"src",s),w(c,"alt","Sketch"),w(d,"href",p="javascript:void(0);"),w(d,"class","download"),w(d,"title","download"),w(e,"class","sketch frame"),w(e,"data-sketch-id",_=t[16].id)},m(t,r){h(t,e,r),f(e,n),f(n,i),f(n,a),f(e,o),f(e,c),f(e,u),f(e,d),f(e,$),M&&M.m(e,null),k||(R=[x(c,"click",I),x(d,"click",L)],k=!0)},p(r,a){t=r,48&a&&E!==(E=yt(t[5]-t[16].timestamp)+"")&&b(i,E),16&a&&l!==(l=t[16].timestamp)&&w(n,"data-time",l),16&a&&c.src!==(s=t[16].dataUrl)&&w(c,"src",s),t[3]?M?M.p(t,a):(M=$t(t),M.c(),M.m(e,null)):M&&(M.d(1),M=null),16&a&&_!==(_=t[16].id)&&w(e,"data-sketch-id",_)},d(t){t&&m(e),M&&M.d(),k=!1,r(R)}}}function _t(t){let e,n,i,r,a,l,o=t[4],c=[];for(let e=0;e<o.length;e+=1)c[e]=bt(vt(t,o,e));return{c(){e=y("div");for(let t=0;t<c.length;t+=1)c[t].c();n=v(),i=y("div"),w(i,"class","clear"),w(e,"class","list-column page")},m(t,r){h(t,e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);f(e,n),f(e,i),l=!0},p(i,[r]){if(t=i,123&r){let i;for(o=t[4],i=0;i<o.length;i+=1){const a=vt(t,o,i);c[i]?c[i].p(a,r):(c[i]=bt(a),c[i].c(),c[i].m(e,n))}for(;i<c.length;i+=1)c[i].d(1);c.length=o.length}},i(n){l||(q((()=>{a&&a.end(1),r||(r=V(e,ct,{x:t[2],duration:500})),r.start()})),l=!0)},o(n){r&&r.invalidate(),a=tt(e,ct,{x:t[2],duration:500}),l=!1},d(t){t&&m(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),t&&a&&a.end()}}}function kt(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function l(t){try{c(i.next(t))}catch(t){a(t)}}function o(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,o)}c((i=i.apply(t,e||[])).next())}))};let{replyId:r}=e,{listType:a}=e,{watchReplay:l}=e,{reply:o}=e,{viewRepliesApp:c}=e,{x:s=500}=e,u=null==r,d=[],p=Date.now(),f=setInterval((()=>n(5,p=Date.now())),1e3);var h;function m(t){n(3,u=!1),c(t),dt("replies/"+t).then((t=>{n(4,d=t)}))}h=function(){clearInterval(f)},T().$$.on_destroy.push(h),S((()=>i(void 0,void 0,void 0,(function*(){let t=a;"replies"==a&&(t+="/"+r),dt(t).then((t=>{n(4,d=t)}))}))));return t.$$set=t=>{"replyId"in t&&n(7,r=t.replyId),"listType"in t&&n(8,a=t.listType),"watchReplay"in t&&n(0,l=t.watchReplay),"reply"in t&&n(1,o=t.reply),"viewRepliesApp"in t&&n(9,c=t.viewRepliesApp),"x"in t&&n(2,s=t.x)},[l,o,s,u,d,p,m,r,a,c,(t,e)=>l(t.id),(t,e)=>gt(t.id),(t,e)=>m(t.id),(t,e)=>o(t.id)]}class Rt extends lt{constructor(t){super(),at(this,t,kt,_t,l,{replyId:7,listType:8,watchReplay:0,reply:1,viewRepliesApp:9,x:2})}}function Et(e){let n,i,r;return{c(){n=y("div"),n.innerHTML='<div class="replay-container"><div class="frame"><canvas id="replay-canvas" width="128" height="72"></canvas></div></div>',w(n,"id","replay")},m(t,a){h(t,n,a),i||(r=x(n,"click",e[0]),i=!0)},p:t,i:t,o:t,d(t){t&&m(n),i=!1,r()}}}function It(t,e,n){let i,{replayId:r}=e,{stopReplay:a}=e;return dt("data/"+r).then((t=>{!function(t){i&&cancelAnimationFrame(i);let e=document.getElementById("replay-canvas"),n=e.getContext("2d");n.fillStyle="#000";let r=0;n.clearRect(0,0,e.width,e.height);let a=function(){r<t.length?(n.beginPath(),n.rect(t[r].x,t[r].y,1,1),n.fill()):cancelAnimationFrame(i),r++},l=function(){a(),a(),i=requestAnimationFrame(l)};l()}(t)})),t.$$set=t=>{"replayId"in t&&n(1,r=t.replayId),"stopReplay"in t&&n(2,a=t.stopReplay)},[function(){i&&cancelAnimationFrame(i),a()},r,a]}class Lt extends lt{constructor(t){super(),at(this,t,It,Et,l,{replayId:1,stopReplay:2})}}function Mt(e){let n,i,r,a;return{c(){n=y("a"),n.innerHTML='<i class="fas fa-backward"></i>\n\t\t\tBack',w(n,"href",i="javascript:void(0);"),w(n,"class","big-link"),w(n,"id","back-button")},m(t,i){h(t,n,i),r||(a=x(n,"click",e[15]),r=!0)},p:t,d(t){t&&m(n),r=!1,a()}}}function Tt(t){let e;function n(t,e){return t[3]==t[1].replies?At:St}let i=n(t),r=i(t);return{c(){r.c(),e=$()},m(t,n){r.m(t,n),h(t,e,n)},p(t,a){i===(i=n(t))&&r?r.p(t,a):(r.d(1),r=i(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&m(e)}}}function St(e){let n,i,r,a;return{c(){n=y("a"),n.innerHTML='<i class="fas fa-pen-square"></i>\n\t\t\t\tCreate Doodle',w(n,"href",i="#"),w(n,"class","big-link")},m(t,i){h(t,n,i),r||(a=x(n,"click",e[9]),r=!0)},p:t,d(t){t&&m(n),r=!1,a()}}}function At(e){let n,i,r,a;return{c(){n=y("a"),n.innerHTML='<i class="fas fa-pen-square"></i>\n\t\t\t\tReply',w(n,"href",i="#"),w(n,"class","big-link")},m(t,i){h(t,n,i),r||(a=x(n,"click",e[14]),r=!0)},p:t,d(t){t&&m(n),r=!1,a()}}}function Ct(t){let e,n,i,a,l,o,c,s,u,d,p,g,$,b,k,R,E,I,L,M,T,S,A=t[3]==t[1].recent&&Dt(t),C=t[3]==t[1].popular&&Ht(t),D=t[3]==t[1].replies&&jt(t);return{c(){e=y("div"),n=y("div"),i=y("span"),a=y("a"),a.innerHTML='<i class="fas fa-bolt"></i>\n\t\t\t\t\t\tRecent Doodles',o=v(),c=y("span"),c.innerHTML='<i class="fas fa-bolt"></i> Recent Doodles',s=v(),u=y("span"),d=y("a"),d.innerHTML='<i class="fas fa-star"></i>\n\t\t\t\t\t\tPopular Doodles',g=v(),$=y("span"),$.innerHTML='<i class="fas fa-star"></i> Popular Doodles',b=v(),k=y("div"),A&&A.c(),R=v(),C&&C.c(),E=v(),D&&D.c(),w(a,"href",l="javascript:void(0);"),w(i,"class","big-link"),_(i,"active",t[3]===t[1].recent),w(d,"href",p="javascript:void(0);"),w(u,"class","big-link"),_(u,"active",t[3]===t[1].popular),w(n,"class","nav-buttons"),w(k,"class","page-container"),w(e,"id","list-panel"),w(e,"class","list page")},m(r,l){h(r,e,l),f(e,n),f(n,i),f(i,a),f(i,o),f(i,c),f(n,s),f(n,u),f(u,d),f(u,g),f(u,$),f(e,b),f(e,k),A&&A.m(k,null),f(k,R),C&&C.m(k,null),f(k,E),D&&D.m(k,null),M=!0,T||(S=[x(a,"click",t[16]),x(d,"click",t[17])],T=!0)},p(t,e){10&e&&_(i,"active",t[3]===t[1].recent),10&e&&_(u,"active",t[3]===t[1].popular),t[3]==t[1].recent?A?(A.p(t,e),10&e&&Z(A,1)):(A=Dt(t),A.c(),Z(A,1),A.m(k,R)):A&&(W(),K(A,1,1,(()=>{A=null})),Y()),t[3]==t[1].popular?C?(C.p(t,e),10&e&&Z(C,1)):(C=Ht(t),C.c(),Z(C,1),C.m(k,E)):C&&(W(),K(C,1,1,(()=>{C=null})),Y()),t[3]==t[1].replies?D?(D.p(t,e),10&e&&Z(D,1)):(D=jt(t),D.c(),Z(D,1),D.m(k,null)):D&&(W(),K(D,1,1,(()=>{D=null})),Y())},i(t){M||(Z(A),Z(C),Z(D),q((()=>{L&&L.end(1),I||(I=V(e,ct,{x:500,duration:500})),I.start()})),M=!0)},o(t){K(A),K(C),K(D),I&&I.invalidate(),L=tt(e,ct,{x:500,duration:500}),M=!1},d(t){t&&m(e),A&&A.d(),C&&C.d(),D&&D.d(),t&&L&&L.end(),T=!1,r(S)}}}function Dt(t){let e,n;return e=new Rt({props:{listType:"recent",watchReplay:t[11],reply:t[10],viewRepliesApp:t[8],replyId:t[5],x:-500}}),{c(){et(e.$$.fragment)},m(t,i){nt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.replyId=t[5]),e.$set(i)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Ht(t){let e,n;return e=new Rt({props:{listType:"popular",watchReplay:t[11],reply:t[10],viewRepliesApp:t[8],replyId:t[5]}}),{c(){et(e.$$.fragment)},m(t,i){nt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.replyId=t[5]),e.$set(i)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function jt(t){let e,n;return e=new Rt({props:{listType:"replies",watchReplay:t[11],reply:t[10],viewRepliesApp:t[8],replyId:t[5]}}),{c(){et(e.$$.fragment)},m(t,i){nt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.replyId=t[5]),e.$set(i)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Pt(t){let e,n;return e=new mt({props:{guid:t[0],replyId:t[5],postedDrawing:t[13]}}),{c(){et(e.$$.fragment)},m(t,i){nt(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.guid=t[0]),32&n&&(i.replyId=t[5]),e.$set(i)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function qt(t){let e,n;return e=new Lt({props:{replayId:t[7],stopReplay:t[12]}}),{c(){et(e.$$.fragment)},m(t,i){nt(e,t,i),n=!0},p(t,n){const i={};128&n&&(i.replayId=t[7]),e.$set(i)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Bt(t){let e,n,i,r,a,l,o,c,s;function u(t,e){return t[4]==t[2].list?Tt:Mt}let d=u(t),p=d(t),g=t[4]==t[2].list&&Ct(t),x=t[4]!=t[2].list&&Pt(t),b=t[6]&&qt(t);return{c(){e=y("div"),n=y("h1"),n.textContent="Doodles",i=v(),p.c(),r=v(),a=y("div"),g&&g.c(),l=v(),x&&x.c(),o=v(),b&&b.c(),c=$(),w(e,"class","top"),w(a,"class","page-container")},m(t,u){h(t,e,u),f(e,n),f(e,i),p.m(e,null),h(t,r,u),h(t,a,u),g&&g.m(a,null),f(a,l),x&&x.m(a,null),h(t,o,u),b&&b.m(t,u),h(t,c,u),s=!0},p(t,[n]){d===(d=u(t))&&p?p.p(t,n):(p.d(1),p=d(t),p&&(p.c(),p.m(e,null))),t[4]==t[2].list?g?(g.p(t,n),20&n&&Z(g,1)):(g=Ct(t),g.c(),Z(g,1),g.m(a,l)):g&&(W(),K(g,1,1,(()=>{g=null})),Y()),t[4]!=t[2].list?x?(x.p(t,n),20&n&&Z(x,1)):(x=Pt(t),x.c(),Z(x,1),x.m(a,null)):x&&(W(),K(x,1,1,(()=>{x=null})),Y()),t[6]?b?(b.p(t,n),64&n&&Z(b,1)):(b=qt(t),b.c(),Z(b,1),b.m(c.parentNode,c)):b&&(W(),K(b,1,1,(()=>{b=null})),Y())},i(t){s||(Z(g),Z(x),Z(b),s=!0)},o(t){K(g),K(x),K(b),s=!1},d(t){t&&m(e),p.d(),t&&m(r),t&&m(a),g&&g.d(),x&&x.d(),t&&m(o),b&&b.d(t),t&&m(c)}}}function Ft(t,e,n){let i;var r,a;ut().then((t=>n(0,i=t))),function(t){t[t.recent=0]="recent",t[t.popular=1]="popular",t[t.replies=2]="replies"}(r||(r={})),function(t){t[t.create=0]="create",t[t.list=1]="list"}(a||(a={}));let l,o,c=r.recent,s=a.list,u=!1;function d(t){n(5,l=t),n(4,s=a.create)}return[i,r,a,c,s,l,u,o,function(t){n(5,l=t),n(3,c=r.replies)},function(){n(4,s=a.create)},d,function(t){n(6,u=!0),n(7,o=t)},function(){n(6,u=!1)},function(){n(3,c=l?r.replies:r.recent),n(4,s=a.list)},t=>d(l),t=>n(4,s=a.list),t=>{n(3,c=r.recent),n(5,l=null)},t=>{n(3,c=r.popular),n(5,l=null)}]}return new class extends lt{constructor(t){super(),at(this,t,Ft,Bt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
